{"version":3,"sources":["components/Navbar.js","components/App.js","utils/data_storage_utils.js","utils/webRTC_utils.js","components/Host.js","components/ChatBubble.js","components/ChangeVideo.js","components/UserList.js","components/Chat.js","components/Player.js","components/Party.js","components/Join.js","components/HomePage.js","components/Router.js","serviceWorker.js","index.js"],"names":["Navbar","className","role","aria-label","href","window","location","origin","src","width","height","alt","target","rel","React","Component","App","store_data","key","data","localStorage","setItem","btoa","JSON","stringify","encode_base64","update_data","data_key","value","get_data","getItem","parse","atob","decode_base64","createConnection","thisObj","is_host","host_id","previous_id","peer_js_url","process","REACT_APP_PEERJS","turn_url","REACT_APP_TURN","turn_username","REACT_APP_TURN_USERNAME","turn_credentials","REACT_APP_TURN_CREDENTIALS","Peer","settings","debug","config","iceServers","urls","host","port","path","push","username","credential","peer","peer_obj","conn","connect","handle_connection","on","id","console","log","peer_id","setState","host_peer_id","global_this_obj","notify","peer_ids","data_type","chat_handler","connect_to_peer","state","youtube_video_id","videoId","youtube_current_pos","Math","ceil","startSeconds","player_state","event","isStateChangeFromBroadcastData","player","yt_player","seekTo","pauseVideo","user_name","playVideo","setPlaybackRate","playbackRate","setTimeout","handle_youtube","connected_users","color_code","sync_video","send_data","user_list","only_host_controls","handle_intro","handle_intro_init","change_video","video_id","data_handler","left_user_name","connections","msg","i","length","send","broadcast_new_connection","chat_data","chat_log","message","decodeURIComponent","escape","send_chat","msg_json","user_type","unescape","encodeURIComponent","time_stamp","Date","now","generate_chat_structure","payload_data","fetch_current_video_status","yt_event","getPlayerState","getVideoData","getCurrentTime","getPlaybackRate","introduce","broadcast","loadVideoById","format","parseIdFromURL","url","match","Host","submitted","handleSubmit","e","preventDefault","youtubeLink","onlyHost","checked","userName","this","to","pathname","onSubmit","ref","hostUserName","placeholder","type","name","required","youtubeLinkRef","class","onlyHostRef","ChatBubble","style","color","props","ChangeVideo","changeVideo","video_url","UserList","avatars","user","title","backgroundColor","Chat","showEmojis","closeMenu","addEmoji","emoji","native","add_text","send_message","chatBottom","createRef","current","scrollIntoView","behavior","onClick","map","index","onSelect","el","emojiPicker","String","fromCodePoint","onChange","fontSize","alignItems","Player","loadScript","YT","loadVideo","tag","document","createElement","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","playerVars","start","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onPlaybackRateChange","onPlayerPlaybackRateChange","PlayerState","PLAYING","PAUSED","Party","invite_popup_shown","setUserName","floor","random","toString","copyToClipboard","copy_invite","select","execCommand","closeModal","timeout","toast","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","toastId","params","reconnect_users","host_data","wait_time","bulk_connect","Object","keys","newestOnTop","rtl","pauseOnFocusLoss","readOnly","Join","RoomId","roomNameRef","HomePage","autoPlay","loop","muted","Router","exact","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.af61513b.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../css/App.css\";\n\nclass Navbar extends React.Component {\n  render() {\n    return (\n      <nav\n        className=\"navbar is-fixed-top\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"navbar-brand\">\n          <div className=\"navbar-item\">\n            <a href={window.location.origin}>\n              <img\n                src={process.env.PUBLIC_URL + \"/Stream_Sync.svg\"}\n                width=\"112\"\n                height=\"28\"\n                alt=\"Logo\"\n              ></img>\n            </a>\n            <a href={window.location.origin}>YouTube Fiesta</a>\n          </div>\n        </div>\n\n        <div className=\"navbar-end\">\n          <div className=\"navbar-item\">\n            <div className=\"buttons\">\n              <a href=\"https://www.paypal.me/jeff007ali\"className=\"bmac_link\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <img\n                  src=\"https://cdn.buymeacoffee.com/buttons/lato-red.png\"\n                  alt=\"Buy Me A Coffee\"\n                  className=\"bmac\"\n                ></img>\n              </a>\n              <a href=\"/host\" target=\"_blank\" className=\"button is-light\">\n                Host\n              </a>\n            </div>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Navbar;\n","import React from \"react\";\nimport \"../css/App.css\";\nimport Navbar from \"./Navbar\";\nfunction App() {\n  return (\n    <>\n    <Navbar></Navbar>\n\n      <div className=\"row\">\n        <a className=\"select_column host\" href=\"/host\">\n          Host\n        </a>\n        <a className=\"select_column join\" href=\"/join\">\n          Join\n        </a>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","export function encode_base64(data) {\n  return btoa(JSON.stringify(data));\n}\n\nexport function decode_base64(data) {\n  return JSON.parse(atob(data));\n}\n\nexport function store_data(key, data) {\n  localStorage.setItem(key, encode_base64(data));\n}\n\nexport function update_data(data_key, key, value) {\n  var data = get_data(data_key);\n  if (!data) {\n    return false;\n  }\n  data[key] = value;\n  store_data(data_key, data);\n}\n\nexport function get_data(key) {\n  var data = localStorage.getItem(key);\n  if (data) {\n    return decode_base64(data);\n  }\n  return false;\n}\n","import { update_data } from \"./data_storage_utils\";\n\nexport var global_this_obj = null;\n\nexport function createConnection(\n  thisObj,\n  is_host,\n  host_id = null,\n  previous_id = null\n) {\n  let peer_js_url = process.env.REACT_APP_PEERJS;\n  let turn_url = process.env.REACT_APP_TURN;\n  let turn_username = process.env.REACT_APP_TURN_USERNAME;\n  let turn_credentials = process.env.REACT_APP_TURN_CREDENTIALS;\n  const Peer = window.Peer;\n  const settings = {\n    debug: 2,\n    // iceTransportPolicy: \"relay\",\n    config: {\n      iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }]\n    }\n  };\n  if (peer_js_url) {\n    settings.host = peer_js_url;\n    settings.port = \"\";\n    settings.path = \"/myapp\";\n  }\n  if (turn_url) {\n    settings.config.iceServers.push({\n      urls: turn_url,\n      username: turn_username,\n      credential: turn_credentials\n    });\n  }\n\n  if (previous_id) {\n    var peer = new Peer(previous_id, settings);\n  } else {\n    var peer = new Peer(settings);\n  }\n\n  window.peer_obj = peer;\n  window.is_host = is_host;\n  if (is_host !== true) {\n    var conn = peer.connect(host_id);\n    handle_connection(conn);\n  }\n\n  peer.on(\"open\", function(id) {\n    console.log(\"MY peer ID is \" + peer.id);\n    window.peer_id = peer.id;\n    thisObj.setState({\n      peer_id: peer.id\n    });\n    if (window.is_host === true) {\n      thisObj.setState({\n        host_peer_id: peer.id\n      });\n    }\n  });\n\n  //   Initializes connection\n  peer.on(\"connection\", function(conn) {\n    console.log(\"connection called\");\n    handle_connection(conn);\n  });\n\n  peer.on(\"close\", function() {\n    console.log(\"peer closed\");\n    window.global_this_obj.notify(\"Network disconnected please refresh\", 10000);\n  });\n\n  peer.on(\"disconnected\", function() {\n    console.log(\"peer disconnected\");\n    // peer.reconnect();\n    window.global_this_obj.notify(\"Network disconnected please refresh\", 10000);\n  });\n\n  // peer.on(\"error\", function(err) {\n  // window.global_this_obj.notify(\"Network disconnected please refresh\",10000);\n\n  //   console.log(`peerjs error ${err}`);\n  //   var x = 0;\n  //   var intervalID = setInterval(function() {\n  //     if (is_online()) {\n  //       createConnection(\n  //         window.global_this_obj,\n  //         window.is_host,\n  //         window.global_this_obj.props.match.params.host_id,\n  //         window.peer_id\n  //       );\n  //       window.clearInterval(intervalID);\n  //     }\n\n  //     if (++x === 10) {\n  //       window.clearInterval(intervalID);\n  //     }\n  //   }, 1000);\n  // });\n}\n\nfunction is_online() {\n  fetch(\"https://corona-api.nishit.xyz/country/in\")\n    .then(response => {\n      return true;\n    })\n    .catch(error => {\n      return false;\n    });\n}\n\nfunction handle_connection(conn) {\n  window.peer_ids.push(conn.peer);\n\n  conn.on(\"data\", function(data) {\n    console.log(\"data received\");\n    console.log(data);\n    data_handler(data);\n  });\n  console.log(\"Handled connection\");\n\n  conn.on(\"close\", function() {\n    var connected_users = window.global_this_obj.state.connected_users;\n    if (!connected_users || !connected_users[conn.peer]) {\n      return;\n    }\n    const left_user_name = connected_users[conn.peer].user_name;\n    delete connected_users[conn.peer];\n    window.global_this_obj.setState({ connected_users: connected_users });\n    window.global_this_obj.notify(`${left_user_name} has left the party`);\n    if (window.is_host) {\n      update_data(window.peer_obj.id, \"connected_users\", connected_users);\n    }\n  });\n\n  window.connections.push(conn);\n\n  if (window.is_host === true) {\n    // setTimeout(function() {\n    //   sync_video();\n    //   var msg_user_list = {\n    //     data_type: \"user_list\",\n    //     user_list: window.global_this_obj.state.connected_users,\n    //     only_host_controls: window.global_this_obj.state.only_host_controls\n    //   };\n    //   send_data(msg_user_list);\n    // }, 3000);\n    broadcast_new_connection(conn.peer);\n  }\n}\n\nfunction data_handler(data) {\n  if (typeof data === \"object\" && data !== null) {\n    if (data.data_type === \"chat\") {\n      chat_handler(data);\n    } else if (data.data_type === \"new_connection\") {\n      connect_to_peer(data.peer_id);\n    } else if (data.data_type === \"youtube\") {\n      handle_youtube(data);\n    } else if (data.data_type === \"intro\") {\n      handle_intro(data);\n    } else if (data.data_type === \"user_list\") {\n      handle_intro_init(data);\n    } else if (data.data_type === \"change_video\") {\n      change_video(data.video_id);\n    }\n  }\n}\n\nfunction send_data(data) {\n  console.log(\"Sending data: \");\n  console.log(data);\n  var connections = window.connections;\n  for (var i = 0; i < connections.length; i++) {\n    connections[i].send(data);\n  }\n}\n\nfunction broadcast_new_connection(peer_id) {\n  var msg = { data_type: \"new_connection\", peer_id: peer_id };\n  for (var i = 0; i < window.connections.length; i++) {\n    if (window.connections[i].peer === peer_id) {\n      continue;\n    }\n    window.connections[i].send(msg);\n  }\n}\n\nfunction connect_to_peer(peer_id) {\n  var conn = window.peer_obj.connect(peer_id);\n  handle_connection(conn);\n}\n\nexport function bulk_connect(peer_ids, host_data) {\n  for (let id in peer_ids) {\n    setTimeout(function() {\n      connect_to_peer(peer_ids[id]);\n    }, 250);\n  }\n  const wait_time = 250 * peer_ids.length + 100;\n  setTimeout(function() {\n    console.log(\"intro called\");\n    introduce(host_data.user_name, host_data.color_code);\n  }, wait_time);\n}\n// Chat utils\nfunction chat_handler(chat_data) {\n  var chat_log = window.global_this_obj.state.chat_log;\n  chat_data.message = decodeURIComponent(\n    escape(window.atob(chat_data.message))\n  );\n\n  chat_log.push(chat_data);\n  window.global_this_obj.setState({\n    chat_log: chat_log\n  });\n}\n\nexport function send_chat(msg, user_name, is_host, color_code) {\n  var msg_json = generate_chat_structure(msg, user_name, is_host, color_code);\n  send_data(msg_json);\n  chat_handler(msg_json);\n}\n\nfunction generate_chat_structure(msg, user_name, is_host, color_code) {\n  var format = {\n    data_type: \"chat\",\n    user_name: user_name,\n    user_type: is_host ? \"Host\" : \"Client\",\n    message: btoa(unescape(encodeURIComponent(msg))),\n    color_code: color_code,\n    time_stamp: Date.now()\n  };\n  return format;\n}\n\n//  Youtube utils\n\nfunction handle_youtube(data) {\n  var state = window.global_this_obj.state;\n  if (state.youtube_video_id === \"\") {\n    window.global_this_obj.setState({\n      youtube_video_id: data.videoId,\n      youtube_current_pos: Math.ceil(data.startSeconds),\n      player_state: data.event\n    });\n  } else {\n    window.global_this_obj.setState({ isStateChangeFromBroadcastData: true });\n    const player = window.yt_player;\n\n    if (data.event === 2) {\n      // isStateChangeFromBroadcastData = true;\n      player.seekTo(data.startSeconds, true);\n      player.pauseVideo();\n      window.global_this_obj.notify(`${data.user_name} paused the video`);\n    } else if (data.event === 1) {\n      // isStateChangeFromBroadcastData = true;\n      player.seekTo(Math.ceil(data.startSeconds), true);\n      player.playVideo();\n      window.global_this_obj.notify(`${data.user_name} started the video`);\n    } else if (data.event === 3) {\n      // isStateChangeFromBroadcastData = true;\n      player.seekTo(data.startSeconds, true);\n      player.pauseVideo();\n      window.global_this_obj.notify(`${data.user_name} is buffering`);\n    } else if (data.event === \"playbackRateChange\") {\n      player.seekTo(data.startSeconds, true);\n      player.setPlaybackRate(data.playbackRate);\n      window.global_this_obj.notify(\n        `${data.user_name} changed the playback rate to ${data.playbackRate}x`\n      );\n    }\n    setTimeout(function() {\n      window.global_this_obj.setState({\n        isStateChangeFromBroadcastData: false\n      });\n    }, 2500);\n  }\n}\n\nexport function sync_video(event = null) {\n  if (\n    window.global_this_obj.state.only_host_controls === true &&\n    window.is_host !== true\n  ) {\n    return;\n  }\n  if (window.global_this_obj.state.isStateChangeFromBroadcastData) {\n    return;\n  }\n  var payload_data = fetch_current_video_status(event);\n  send_data(payload_data);\n}\n\nfunction fetch_current_video_status(event) {\n  var yt_event;\n  const player = window.yt_player;\n  if (event !== null) {\n    yt_event = event;\n  } else {\n    yt_event = player.getPlayerState();\n  }\n\n  var videoId = player.getVideoData()[\"video_id\"];\n  var startSeconds = player.getCurrentTime();\n  var playbackRate = player.getPlaybackRate();\n\n  var payload = {\n    data_type: \"youtube\",\n    user_name: window.global_this_obj.state.user_name,\n    event: yt_event,\n    videoId: videoId,\n    startSeconds: startSeconds,\n    playbackRate: playbackRate\n  };\n\n  return payload;\n}\n// {\n//   \"data_type\": \"chat|youtube|webrtc\",\n//   \"user_name\": \"Nishit\",\n//   \"user_type\": \"Host|Client\",\n//   \"message\": \"Test\",\n//   \"time_stamp\": \"ISO timestamp\"\n// }\n\n// misc\n\nfunction handle_intro(data) {\n  var connected_users = window.global_this_obj.state.connected_users;\n  connected_users[data.peer_id] = {\n    user_name: data.user_name,\n    color_code: data.color_code\n  };\n  window.global_this_obj.setState({ connected_users: connected_users });\n  window.global_this_obj.notify(`${data.user_name} has joined the party`);\n  if (window.is_host) {\n    update_data(window.peer_obj.id, \"connected_users\", connected_users);\n    setTimeout(function() {\n      sync_video();\n      var msg_user_list = {\n        data_type: \"user_list\",\n        user_list: window.global_this_obj.state.connected_users,\n        only_host_controls: window.global_this_obj.state.only_host_controls\n      };\n      send_data(msg_user_list);\n    }, 250);\n  }\n}\n\nfunction handle_intro_init(data) {\n  window.global_this_obj.setState({\n    connected_users: data.user_list,\n    only_host_controls: data.only_host_controls\n  });\n}\n\nexport function introduce(user_name, color_code) {\n  var format = {\n    data_type: \"intro\",\n    user_name: user_name,\n    peer_id: window.peer_obj.id,\n    color_code: color_code,\n    time_stamp: Date.now()\n  };\n  send_data(format);\n}\n\nexport function change_video(video_id, broadcast = false) {\n  var player = window.yt_player;\n  player.loadVideoById(video_id);\n  if (broadcast) {\n    var format = {\n      data_type: \"change_video\",\n      video_id: video_id\n    };\n    send_data(format);\n    // broadcast it to everyone\n  }\n}\n\nexport function parseIdFromURL(url) {\n  var regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\n  var match = url.match(regExp);\n  if (match && match[2].length === 11) {\n    return match[2];\n  } else {\n    return false;\n  }\n}\n","import React from \"react\";\nimport \"../css/App.css\";\nimport Navbar from \"./Navbar\";\nimport { createConnection } from \"../utils/webRTC_utils\";\nimport { Redirect } from \"react-router-dom\";\nimport { store_data } from \"../utils/data_storage_utils\";\nclass Host extends React.Component {\n  state = {\n    user_name: \"\",\n    youtube_video_id: \"\",\n    host_peer_id: null,\n    is_host: true,\n    submitted: false\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    var video_id = this.parseIdFromURL(e.target.youtubeLink.value);\n    console.log(e.target.onlyHost.checked);\n    this.setState({\n      user_name: e.target.userName.value,\n      youtube_video_id: video_id,\n      only_host_controls: e.target.onlyHost.checked,\n      submitted: true\n    });\n    createConnection(this, true);\n  };\n  parseIdFromURL = url => {\n    var regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\n    var match = url.match(regExp);\n    if (match && match[2].length === 11) {\n      return match[2];\n    } else {\n      return false;\n    }\n  };\n  render() {\n    console.log(this.state.host_peer_id);\n    if (this.state.host_peer_id) {\n      store_data(this.state.host_peer_id, this.state);\n\n      return (\n        <Redirect\n          push\n          to={{\n            pathname: \"party/\" + this.state.host_peer_id,\n            state: this.state\n          }}\n        ></Redirect>\n      );\n    }\n    return (\n      <>\n        <Navbar></Navbar>\n\n        <section className=\"section\">\n          <div className=\"container\">\n            <div className=\"columns is-centered\">\n              <div className=\"column is-half\">\n                <div className=\"card box\">\n                  <div className=\"card-content\">\n                    <form onSubmit={this.handleSubmit} className=\"room_name\">\n                      <div className=\"field\">\n                        <label className=\"label\">Username</label>\n                        <div className=\"control\">\n                          <input\n                            className=\"input\"\n                            ref={this.hostUserName}\n                            placeholder=\"Please enter your username\"\n                            type=\"text\"\n                            name=\"userName\"\n                            required\n                          ></input>\n                        </div>\n                      </div>\n\n                      <div className=\"field\">\n                        <label className=\"label\">Youtube Link</label>\n                        <div className=\"control\">\n                          <input\n                            className=\"input\"\n                            ref={this.youtubeLinkRef}\n                            placeholder=\"The Youtube link to be shared\"\n                            type=\"url\"\n                            name=\"youtubeLink\"\n                            required\n                          ></input>\n                        </div>\n                      </div>\n\n                      <div className=\"field\">\n                        <label class=\"checkbox\">\n                          <input\n                            type=\"checkbox\"\n                            name=\"onlyHost\"\n                            ref={this.onlyHostRef}\n                          />\n                          &nbsp;Only allow host to control video\n                        </label>\n                      </div>\n                      <div className=\"buttons is-right\">\n                        <button\n                          className={\n                            \"button is-primary\" +\n                            (this.state.submitted ? \" is-loading\" : \"\")\n                          }\n                        >\n                            🥳 Party\n                        </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Host;\n","import React from \"react\";\n\nclass ChatBubble extends React.Component {\n  render() {\n    return (\n      <div className=\"chat-bubble\">\n        <span\n          className=\"chat_user_name\"\n          style={{ color: \"#\" + this.props.chat_data.color_code }}\n        >\n          {this.props.chat_data.user_name}\n        </span>\n        {this.props.chat_data.message}\n      </div>\n    );\n  }\n}\n\nexport default ChatBubble;\n","import React from \"react\";\nimport { change_video, parseIdFromURL } from \"../utils/webRTC_utils\";\n\nclass ChangeVideo extends React.Component {\n  changeVideo = e => {\n    e.preventDefault();\n    let video_url = e.target.video_url.value;\n    let video_id = parseIdFromURL(video_url);\n    if (video_id) {\n      change_video(video_id, true);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"box info_box\">\n        <div className=\"\">\n          <form onSubmit={this.changeVideo}>\n            <div className=\"field is-grouped\">\n              <p className=\"control is-expanded\">\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"video_url\"\n                  placeholder=\"Enter new video URL\"\n                  required\n                />\n              </p>\n              <p className=\"control\">\n                <button className=\"button is-primary\">Change</button>\n              </p>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangeVideo;\n","import React from \"react\";\nimport ChangeVideo from \"./ChangeVideo\";\nclass UserList extends React.Component {\n  render() {\n    var connected_users = this.props.connected_users;\n    if (!connected_users) {\n      connected_users = {};\n    }\n\n    var avatars = [];\n    for (const key in connected_users) {\n      var user = connected_users[key];\n      avatars.push(\n        <div\n          key={key}\n          className=\"avatar\"\n          title={user.user_name}\n          style={{ backgroundColor: \"#\" + user.color_code }}\n        >\n          {user.user_name[0]}\n        </div>\n      );\n    }\n    return (\n      <div className=\"\">\n        <h4>Connected Users</h4>\n        <div className=\"avatar_container\">{avatars}</div>\n      </div>\n    );\n  }\n}\n\nexport default UserList;\n","import React from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport { send_chat } from \"../utils/webRTC_utils\";\nimport ChatBubble from \"./ChatBubble\";\nimport UserList from \"./UserList\";\n\nclass Chat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.chatBottom = React.createRef();\n  }\n\n  componentDidUpdate() {\n    this.chatBottom.current.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  state = {\n    showEmojis: false,\n    message: \"\"\n  };\n  showEmojis = e => {\n    this.setState({\n      showEmojis: true\n    });\n  };\n  closeMenu = () => {\n    this.setState({\n      showEmojis: false\n    });\n  };\n\n  addEmoji = e => {\n    let emoji = e.native;\n    this.setState({\n      message: this.state.message + emoji\n    });\n    this.closeMenu();\n  };\n\n  add_text = e => {\n    this.setState({ message: e.target.value });\n  };\n\n  send_message = e => {\n    e.preventDefault();\n    if (this.state.message === \"\") {\n      return;\n    }\n    send_chat(\n      this.state.message,\n      this.props.user_name,\n      this.props.is_host,\n      this.props.color_code\n    );\n    this.setState({ message: \"\" });\n  };\n\n  render() {\n    return (\n      <div className=\"box\">\n        <UserList\n          connected_users={this.props.connected_users}\n          only_host_controls={this.props.only_host_controls}\n          is_host={this.props.is_host}\n        ></UserList>\n        <div className=\"box chat_box\" onClick={this.closeMenu}>\n          {this.props.chat_log.map((chat_data, index) => {\n            return <ChatBubble key={index} chat_data={chat_data}></ChatBubble>;\n          })}\n          <span ref={this.chatBottom} id=\"chat-bottom\" />\n        </div>\n        <form onSubmit={this.send_message}>\n          <div className=\"field is-grouped\">\n            <p className=\"\">\n              {this.state.showEmojis ? (\n                <>\n                  <Picker\n                    onSelect={this.addEmoji}\n                    ref={el => (this.emojiPicker = el)}\n                  />\n                  <button className=\"button emoji-button\">\n                    <span className=\"icon is-small\">\n                      <p onClick={this.closeMenu} className=\"emoji\">\n                        {\"❌\"}\n                      </p>\n                    </span>\n                  </button>\n                </>\n              ) : (\n                <button className=\"button emoji-button\">\n                  <span className=\"icon is-small\">\n                    <p onClick={this.showEmojis} className=\"emoji\">\n                      {String.fromCodePoint(0x1f60a)}\n                    </p>\n                  </span>\n                </button>\n              )}\n            </p>\n            <p className=\"control is-expanded\">\n              <input\n                className=\"input\"\n                value={this.state.message}\n                type=\"text\"\n                placeholder=\"Chat..\"\n                onChange={this.add_text}\n              />\n            </p>\n            <p className=\"control\">\n              <button className=\"button is-primary\">\n                <i\n                  class=\"icon icon ion-ios-paperplane\"\n                  style={{\n                    fontSize: \"xx-large\",\n                    alignItems: \"normal\",\n                    height: \"1em\"\n                  }}\n                ></i>\n              </button>\n            </p>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Chat;\n","import React from \"react\";\nimport { sync_video } from \"../utils/webRTC_utils\";\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      player: \"\"\n    };\n  }\n  componentDidUpdate() {\n    if (this.state.player === \"\" && this.props.youtube_video_id !== \"\") {\n      this.loadScript();\n    }\n  }\n  loadScript = () => {\n    if (!window.YT) {\n      // If not, load the script asynchronously\n      const tag = document.createElement(\"script\");\n      tag.src = \"https://www.youtube.com/iframe_api\";\n\n      // onYouTubeIframeAPIReady will load the video after the script is loaded\n      window.onYouTubeIframeAPIReady = this.loadVideo;\n\n      const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    } else {\n      // If script is already there, load the video directly\n      if (window.YT.Player) {\n        this.loadVideo();\n      }\n    }\n  };\n  loadVideo = () => {\n    this.state.player = new window.YT.Player(`youtube-player-iframe`, {\n      videoId: this.props.youtube_video_id,\n      width: 830,\n      height: 450,\n      playerVars: {\n        start: Math.ceil(this.props.youtube_current_pos)\n      },\n      events: {\n        onReady: this.onPlayerReady,\n        onStateChange: this.onPlayerStateChange,\n        onPlaybackRateChange: this.onPlayerPlaybackRateChange\n      }\n    });\n    window.yt_player = this.state.player;\n  };\n\n  onPlayerReady = event => {\n    if (this.props.player_state === 1) {\n      event.target.playVideo();\n    }\n  };\n  onPlayerStateChange = event => {\n    if (!this.props.isStateChangeFromBroadcastData) {\n      if (\n        event.data === window.YT.PlayerState.PLAYING ||\n        event.data === window.YT.PlayerState.PAUSED\n      ) {\n        sync_video();\n      }\n    }\n  };\n  onPlayerPlaybackRateChange = event => {\n    console.log(event);\n    if (this.props.is_host) {\n      sync_video(\"playbackRateChange\");\n    }\n  };\n  render() {\n    // if (!this.props.youtube_video_id) {\n    //   return <div>Video not loaded</div>;\n    // }\n    return (\n      <div className=\"player_container\">\n        <div id={`youtube-player-iframe`} />\n      </div>\n    );\n  }\n}\n\nexport default Player;\n","import React from \"react\";\nimport Navbar from \"./Navbar\";\nimport Chat from \"./Chat\";\nimport Player from \"./Player\";\nimport UserList from \"./UserList\";\nimport ChangeVideo from \"./ChangeVideo\";\n\nimport { get_data } from \"../utils/data_storage_utils\";\nimport {\n  createConnection,\n  introduce,\n  bulk_connect\n} from \"../utils/webRTC_utils\";\nimport { ToastContainer, toast } from \"react-toastify\";\n// css\nimport \"../css/App.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\n\n// https://stackoverflow.com/questions/54017100/how-to-integrate-youtube-iframe-api-in-reactjs-solution\nclass Party extends React.Component {\n  state = {\n    user_name: \"\",\n    youtube_video_id: \"\",\n    youtube_current_pos: 0,\n    peer_id: \"\",\n    is_host: false,\n    chat_log: [],\n    invite_popup_shown: false,\n    connected_users: {},\n    color_code: \"\",\n    isStateChangeFromBroadcastData: false,\n    player_state: false\n  };\n\n  constructor(props) {\n    super(props);\n    window.global_this_obj = this;\n    window.peer_ids = [];\n    window.connections = [];\n  }\n\n  componentDidMount() {\n    var data = get_data(this.props.match.params.host_id);\n    const color_code = Math.floor(Math.random() * 16777215).toString(16);\n    // i.e if host\n    if (data) {\n      if (!window.peer_obj) {\n        createConnection(this, true, null, this.props.match.params.host_id);\n      }\n\n      if (!data.connected_users) {\n        var connected_users = {};\n        connected_users[this.props.match.params.host_id] = {\n          user_name: data.user_name,\n          color_code: color_code,\n          is_host: true\n        };\n      } else {\n        var connected_users = data.connected_users;\n        // https://stackoverflow.com/questions/38416020/deep-copy-in-es6-using-the-spread-syntax\n        var reconnect_users = JSON.parse(JSON.stringify(connected_users));\n\n        delete reconnect_users[this.props.match.params.host_id];\n        bulk_connect(\n          Object.keys(reconnect_users),\n          connected_users[this.props.match.params.host_id]\n        );\n      }\n\n      this.setState({\n        peer_id: this.props.match.params.host_id,\n        user_name: data.user_name,\n        youtube_video_id: data.youtube_video_id,\n        only_host_controls: data.only_host_controls,\n        is_host: data.is_host,\n        connected_users: connected_users,\n        color_code: color_code\n      });\n    } else {\n      // Not a host: Create connection\n      createConnection(this, false, this.props.match.params.host_id);\n    }\n  }\n\n  setUserName = e => {\n    e.preventDefault();\n    const color_code = Math.floor(Math.random() * 16777215).toString(16);\n    var connected_users = this.state.connected_users;\n    connected_users[this.state.peer_id] = {\n      user_name: e.target.user_name.value,\n      color_code: color_code,\n      is_host: false\n    };\n    this.setState({\n      user_name: e.target.user_name.value,\n      connected_users: connected_users,\n      color_code: color_code\n    });\n    introduce(e.target.user_name.value, color_code);\n  };\n\n  copyToClipboard = e => {\n    e.preventDefault();\n    this.copy_invite.select();\n    document.execCommand(\"copy\");\n    this.setState({ invite_popup_shown: true });\n  };\n\n  closeModal = e => {\n    this.setState({ invite_popup_shown: true });\n  };\n\n  notify = (message, timeout = 3000) => {\n    toast.info(message, {\n      position: \"bottom-left\",\n      autoClose: timeout,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      toastId: message\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar></Navbar>\n        <ToastContainer\n          position=\"bottom-left\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss={false}\n          draggable\n          pauseOnHover\n        />\n        <div\n          className={\n            \"modal   \" + (this.state.user_name === \"\" ? \"is-active\" : \"\")\n          }\n        >\n          <div className=\"modal-background\"></div>\n          <div className=\"modal-content\">\n            <div className=\"box\">\n              <form onSubmit={this.setUserName}>\n                <div className=\"field is-grouped\">\n                  <p className=\"control is-expanded\">\n                    <input\n                      className=\"input\"\n                      type=\"text\"\n                      name=\"user_name\"\n                      placeholder=\"Enter Your Username\"\n                      required\n                    />\n                  </p>\n                  <p className=\"control\">\n                    <button className=\"button is-primary\">🥳 Party</button>\n                  </p>\n                </div>\n              </form>\n            </div>\n          </div>\n          <button className=\"modal-close is-large\" aria-label=\"close\"></button>\n        </div>\n\n        <div\n          className={\n            \"modal \" +\n            (this.state.invite_popup_shown === false &&\n            this.state.is_host === true\n              ? \"is-active\"\n              : \"\")\n          }\n        >\n          <div className=\"modal-background\" onClick={this.closeModal}></div>\n          <div className=\"modal-content\">\n            <div className=\"box\">\n              <form onSubmit={this.copyToClipboard}>\n                <label>Share this link with friends to watch YouTube together</label>\n\n                <div className=\"field is-grouped\">\n                  <p className=\"control is-expanded\">\n                    <input\n                      className=\"input\"\n                      type=\"text\"\n                      value={window.location.href}\n                      name=\"invite_link\"\n                      readOnly\n                      ref={copy_invite => (this.copy_invite = copy_invite)}\n                    />\n                  </p>\n                  <p className=\"control\">\n                    <button className=\"button is-primary\">\n                      <span role=\"img\" aria-label=\"cliboard_emoji\">\n                        📋\n                      </span>\n                      &nbsp;Copy Invite Link\n                    </button>\n                  </p>\n                </div>\n              </form>\n            </div>\n          </div>\n          <button\n            className=\"modal-close is-large\"\n            aria-label=\"close\"\n            onClick={this.closeModal}\n          ></button>\n        </div>\n\n        <div className=\"section\">\n          <div className=\"container\">\n            <div className=\"tile is-ancestor\">\n              <div className=\"tile is-8 left_tile_custom\">\n                <Player\n                  youtube_video_id={this.state.youtube_video_id}\n                  youtube_current_pos={this.state.youtube_current_pos}\n                  is_host={this.state.is_host}\n                  isStateChangeFromBroadcastData={\n                    this.state.isStateChangeFromBroadcastData\n                  }\n                  player_state={this.state.player_state}\n                ></Player>\n                {(this.state.only_host_controls === false ||\n                  this.state.is_host === true) && <ChangeVideo></ChangeVideo>}\n              </div>\n              <div className=\"chat-window\">\n                <Chat\n                  connected_users={this.state.connected_users}\n                  only_host_controls={this.state.only_host_controls}\n                  user_name={this.state.user_name}\n                  chat_log={this.state.chat_log}\n                  is_host={this.state.is_host}\n                  color_code={this.state.color_code}\n                ></Chat>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Party;\n","import React from \"react\";\nimport Navbar from \"./Navbar\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Join extends React.Component {\n  state = {\n    RoomId: \"\"\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ RoomId: e.target.RoomId.value });\n  };\n  render() {\n    if (this.state.RoomId !== \"\") {\n      return (\n        <Redirect\n          push\n          to={{\n            pathname: \"party/\" + this.state.RoomId,\n            state: this.state\n          }}\n        ></Redirect>\n      );\n    }\n    return (\n      <>\n        <Navbar></Navbar>\n\n        <section className=\"section\">\n          <div className=\"container\">\n            <div className=\"columns is-centered\">\n              <div className=\"column is-half\">\n                <div className=\"card box\">\n                  <div className=\"card-content\">\n                    <form onSubmit={this.handleSubmit} className=\"room_name\">\n                      <div className=\"field\">\n                        <label className=\"label\">RoomId</label>\n                        <div className=\"control\">\n                          <input\n                            className=\"input\"\n                            ref={this.roomNameRef}\n                            placeholder=\"Type the room Id\"\n                            type=\"text\"\n                            name=\"RoomId\"\n                            required\n                          ></input>\n                        </div>\n                      </div>\n                      <div className=\"buttons is-right\">\n                        <button className={\"button is-primary\"}>\n                          🥳 Party\n                        </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Join;\n","import React from \"react\";\nimport Navbar from \"./Navbar\";\n\nclass HomePage extends React.Component {\n  render() {\n    return (\n      <>\n        <Navbar></Navbar>\n        <section className=\"hero is-link is-primary has-background-primary is-fullheight-with-navbar\">\n          <div className=\"hero-body\">\n            <div className=\"tile is-ancestor\">\n              <div className=\"tile is-6\">\n                <div className=\"container homepage_left_hero\">\n                  <h1 className=\"title has-text-centered not-selectable\">\n                    Watch YouTube Together with Friends!\n                  </h1>\n                  <h2 class=\"subtitle has-text-centered not-selectable\">\n                    Chat with friends and watch videos in sync<br></br>\n                    Your data remains secure on your devices\n                  </h2>\n                </div>\n              </div>\n              <div className=\"tile is-6\">\n                <video\n                  className=\"hero_video\"\n                  autoPlay=\"true\"\n                  loop=\"true\"\n                  muted=\"true\"\n                  src={process.env.PUBLIC_URL + \"/introductory_video.mp4\"}\n                ></video>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <a className=\"select_column host\" href=\"/host\">\n              Host\n            </a>\n            <a className=\"select_column join\" href=\"/join\">\n              Join\n            </a>\n          </div>\n        </section>\n\n        {/* TODO refactor for responsiveness with section and hero tags */}\n        <div className=\"grid_row\">\n          <div className=\"content_party\">\n            <img\n              alt=\"party_icon\"\n              className=\"floating\"\n              src={process.env.PUBLIC_URL + \"/party_color.svg\"}\n            ></img>\n            <h4>Create a Party</h4>\n          </div>\n          <div className=\"content_copy\">\n            <img\n              alt=\"copy_icon\"\n              className=\"floating\"\n              src={process.env.PUBLIC_URL + \"/copy_color.svg\"}\n            ></img>\n            <h4>Share the link with friends</h4>\n          </div>\n          <div className=\"content_sync\">\n            <div>\n              <img\n                alt=\"laptop_icon\"\n                className=\"laptop_svg\"\n                src={process.env.PUBLIC_URL + \"/laptop_color.svg\"}\n              ></img>\n              <img\n                alt=\"sync_icon\"\n                className=\"sync_svg\"\n                src={process.env.PUBLIC_URL + \"/sync_color.svg\"}\n              ></img>\n              <img\n                alt=\"laptop_icon\"\n                className=\"laptop_svg\"\n                src={process.env.PUBLIC_URL + \"/laptop_color.svg\"}\n              ></img>\n            </div>\n            <h4>Play/Pause/Hop the video in Sync</h4>\n          </div>\n          <div className=\"content_chat\">\n            <img\n              alt=\"chat_icon\"\n              className=\"floating\"\n              src={process.env.PUBLIC_URL + \"/chat_color.svg\"}\n            ></img>\n            <h4>Real-time conversation!</h4>\n          </div>\n        </div>\n\n        <div className=\"grid_row\">\n          <div className=\"about_right\">\n            <figure className=\"snip\">\n              <div className=\"profile-image\">\n                <img src=\"/jeff.jpg\" alt=\"JeffAli\" />\n                <div className=\"icons\">\n                  <a\n                    href=\"https://twitter.com/jeff007ali\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <i className=\"ion-social-twitter\"></i>\n                  </a>\n                  <a\n                    href=\"https://github.com/jeff007ali\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {\" \"}\n                    <i className=\"ion-social-github\"></i>\n                  </a>\n                  <a\n                    href=\"https://www.linkedin.com/in/jafar-ali-agharia-2645b3104\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {\" \"}\n                    <i className=\"ion-social-linkedin\"></i>\n                  </a>\n                </div>\n              </div>\n              <figcaption>\n                <h3>Jeff Ali</h3>\n                <h4>Software Developer</h4>\n                <p>\"When the world sleeps, we code, we build, we launch.\"</p>\n              </figcaption>\n            </figure>\n          </div>\n          <div className=\"about_left\">\n            <figure className=\"snip\">\n              <div className=\"profile-image\">\n                <img src=\"/nishit.jpg\" alt=\"Nishit\" />\n                <div className=\"icons\">\n                  <a\n                    href=\"https://twitter.com/Nishitm1\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <i className=\"ion-social-twitter\"></i>\n                  </a>\n                  <a\n                    href=\"https://github.com/nsht\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {\" \"}\n                    <i className=\"ion-social-github\"></i>\n                  </a>\n                  <a\n                    href=\"https://www.linkedin.com/in/nishit-mohanan/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {\" \"}\n                    <i className=\"ion-social-linkedin\"></i>\n                  </a>\n                </div>\n              </div>\n              <figcaption>\n                <h3>Nishit Mohanan</h3>\n                <h4>Software Developer</h4>\n                <p>\"Backend Engineer with a dash of frontend\"</p>\n              </figcaption>\n            </figure>\n          </div>\n        </div>\n        <a\n          href=\"https://www.producthunt.com/posts/youtube-fiesta?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-youtube-fiesta\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <img\n            src=\"https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=202836&theme=light\"\n            alt=\"Youtube Fiesta - Watch Youtube with friends in sync! | Product Hunt Embed\"\n            style={{ width: \"250px\", height: \"54px\" }}\n            width=\"250px\"\n            height=\"54px\"\n            className=\"product_hunt_button\"\n          />\n        </a>\n        {/* <footer className=\"footer\">\n          <div className=\"content has-text-centered\">\n            <p>\n              A <strong>Youtube Fiesta</strong> by{\" \"}\n              <a href=\"\">BitBox</a>\n            </p>\n            <p>© 2020 Stream Sync Inc</p>\n          </div>\n        </footer> */}\n      </>\n    );\n  }\n}\n\nexport default HomePage;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport App from \"./App\";\nimport Host from \"./Host\";\nimport Party from \"./Party\";\nimport Join from \"./Join\";\nimport HomePage from \"./HomePage\";\nconst Router = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route exact path=\"/h\" component={HomePage} />\n      <Route exact path=\"/host\" component={Host} />\n      <Route exact path=\"/join\" component={Join} />\n      <Route exact path=\"/party\" component={Host} />\n      <Route exact path=\"/party/:host_id\" component={Party} />\n    </Switch>\n  </BrowserRouter>\n);\nexport default Router;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport Router from \"./components/Router\";\nimport * as serviceWorker from \"./serviceWorker\";\nReactDOM.render(\n  <React.StrictMode>\n    <Router />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}